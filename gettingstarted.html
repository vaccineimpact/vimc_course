<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Getting Started in R | Inference in infectious disease systems practicals</title>
  <meta name="description" content="1 Getting Started in R | Inference in infectious disease systems practicals" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Getting Started in R | Inference in infectious disease systems practicals" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="1 Getting Started in R | Inference in infectious disease systems practicals" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Getting Started in R | Inference in infectious disease systems practicals" />
  
  <meta name="twitter:description" content="1 Getting Started in R | Inference in infectious disease systems practicals" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="structure-of-this-workshop.html"/>
<link rel="next" href="fundamentals-of-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script language="javascript"> 
    function toggle(id) {
        var ele = document.getElementById("toggleText" + id);
        var text = document.getElementById("displayText" + id);
        var buttonText = text.innerHTML.replace("Show: ", "");
        buttonText = buttonText.replace("Hide: ", "");
        if(ele.style.display == "block") {
            ele.style.display = "none";
            text.innerHTML = "Show: " + buttonText;
        } else {
            ele.style.display = "block";
            text.innerHTML = "Hide: " + buttonText;
        }
    } 
</script>

<script language="javascript">
    function openCode(evt, codeName, id) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent" + id);
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks" + id);
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(codeName).style.display = "block";
        evt.currentTarget.className += " active";
    }
</script>

<script language="javascript">
    function hide(id){
        document.getElementById(id).style.display = "none";
    }
</script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://www.vaccineimpact.org/"><img src="VIMC landscape logo CMYK.svg" width="280" style="padding: 10px 5px 10px 15px;"></a>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="structure-of-this-workshop.html"><a href="structure-of-this-workshop.html"><i class="fa fa-check"></i>Structure of this workshop</a>
<ul>
<li class="chapter" data-level="" data-path="structure-of-this-workshop.html"><a href="structure-of-this-workshop.html#tasks"><i class="fa fa-check"></i>Tasks</a></li>
<li class="chapter" data-level="" data-path="structure-of-this-workshop.html"><a href="structure-of-this-workshop.html#lecture-notes"><i class="fa fa-check"></i>Lecture Notes</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R</b></span></li>
<li class="chapter" data-level="1" data-path="gettingstarted.html"><a href="gettingstarted.html"><i class="fa fa-check"></i><b>1</b> Getting Started in R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="gettingstarted.html"><a href="gettingstarted.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="gettingstarted.html"><a href="gettingstarted.html#what-is-r"><i class="fa fa-check"></i><b>1.2</b> What is R?</a></li>
<li class="chapter" data-level="1.3" data-path="gettingstarted.html"><a href="gettingstarted.html#rstudio"><i class="fa fa-check"></i><b>1.3</b> RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="gettingstarted.html"><a href="gettingstarted.html#setup"><i class="fa fa-check"></i><b>1.4</b> Setting up an R session</a></li>
<li class="chapter" data-level="1.5" data-path="gettingstarted.html"><a href="gettingstarted.html#console-pane"><i class="fa fa-check"></i><b>1.5</b> Console Pane</a></li>
<li class="chapter" data-level="1.6" data-path="gettingstarted.html"><a href="gettingstarted.html#script"><i class="fa fa-check"></i><b>1.6</b> Script pane and R scripts</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="gettingstarted.html"><a href="gettingstarted.html#legible"><i class="fa fa-check"></i><b>1.6.1</b> Notes on legibility</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="gettingstarted.html"><a href="gettingstarted.html#packages"><i class="fa fa-check"></i><b>1.7</b> R packages</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="gettingstarted.html"><a href="gettingstarted.html#installing-packages-from-cran"><i class="fa fa-check"></i><b>1.7.1</b> Installing packages from CRAN</a></li>
<li class="chapter" data-level="1.7.2" data-path="gettingstarted.html"><a href="gettingstarted.html#installing-from-a-local-file"><i class="fa fa-check"></i><b>1.7.2</b> Installing from a local file</a></li>
<li class="chapter" data-level="1.7.3" data-path="gettingstarted.html"><a href="gettingstarted.html#installing-archived-versions-of-a-package"><i class="fa fa-check"></i><b>1.7.3</b> Installing archived versions of a package</a></li>
<li class="chapter" data-level="1.7.4" data-path="gettingstarted.html"><a href="gettingstarted.html#installing-development-packages"><i class="fa fa-check"></i><b>1.7.4</b> Installing development packages</a></li>
<li class="chapter" data-level="1.7.5" data-path="gettingstarted.html"><a href="gettingstarted.html#packagesneeded"><i class="fa fa-check"></i><b>1.7.5</b> Packages to install for this module</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html"><i class="fa fa-check"></i><b>2</b> Fundamentals of R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#variables-in-r"><i class="fa fa-check"></i><b>2.1</b> Variables in R</a></li>
<li class="chapter" data-level="2.2" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#functions-in-r"><i class="fa fa-check"></i><b>2.2</b> Functions in R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#nested"><i class="fa fa-check"></i><b>2.2.1</b> Nesting functions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#help"><i class="fa fa-check"></i><b>2.3</b> Help files</a></li>
<li class="chapter" data-level="2.4" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#objects-in-r"><i class="fa fa-check"></i><b>2.4</b> Objects in R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#vectors"><i class="fa fa-check"></i><b>2.4.1</b> Vectors</a></li>
<li class="chapter" data-level="2.4.2" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#convert"><i class="fa fa-check"></i><b>2.4.2</b> Conversions between object types</a></li>
<li class="chapter" data-level="2.4.3" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#matrix"><i class="fa fa-check"></i><b>2.4.3</b> Matrices</a></li>
<li class="chapter" data-level="2.4.4" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#lists"><i class="fa fa-check"></i><b>2.4.4</b> Lists</a></li>
<li class="chapter" data-level="2.4.5" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#dataframes"><i class="fa fa-check"></i><b>2.4.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#reading-in-data"><i class="fa fa-check"></i><b>2.5</b> Reading in data</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#fruitflies"><i class="fa fa-check"></i><b>2.5.1</b> Example: sexual reproduction in fruitflies</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="fundamentals-of-r.html"><a href="fundamentals-of-r.html#save"><i class="fa fa-check"></i><b>2.6</b> Saving outputs</a></li>
</ul></li>
<li class="part"><span><b>II Programming</b></span></li>
<li class="chapter" data-level="3" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html"><i class="fa fa-check"></i><b>3</b> Programming—Practical 1</a>
<ul>
<li class="chapter" data-level="3.1" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#getting-started"><i class="fa fa-check"></i><b>3.1</b> Getting started</a></li>
<li class="chapter" data-level="3.2" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#predicting-the-behaviour-of-for-loops"><i class="fa fa-check"></i><b>3.2</b> Predicting the behaviour of for loops</a></li>
<li class="chapter" data-level="3.3" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#writing-a-for-loop"><i class="fa fa-check"></i><b>3.3</b> Writing a <code>for</code> loop</a></li>
<li class="chapter" data-level="3.4" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#writing-a-while-loop"><i class="fa fa-check"></i><b>3.4</b> Writing a <code>while</code> loop</a></li>
<li class="chapter" data-level="3.5" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#using-loops-to-do-more-complex-calculations"><i class="fa fa-check"></i><b>3.5</b> Using loops to do more complex calculations</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#a-loop-for-which-the-number-of-iterations-is-known-in-advance"><i class="fa fa-check"></i><b>3.5.1</b> A loop for which the number of iterations is known in advance</a></li>
<li class="chapter" data-level="3.5.2" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#a-loop-for-which-the-number-of-iterations-is-not-known-in-advance"><i class="fa fa-check"></i><b>3.5.2</b> A loop for which the number of iterations is not known in advance</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#writing-simple-functions"><i class="fa fa-check"></i><b>3.6</b> Writing simple functions</a></li>
<li class="chapter" data-level="3.7" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#predicting-the-behaviour-of-a-function"><i class="fa fa-check"></i><b>3.7</b> Predicting the behaviour of a function</a></li>
<li class="chapter" data-level="3.8" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#return-values-from-functions"><i class="fa fa-check"></i><b>3.8</b> Return values from functions</a></li>
<li class="chapter" data-level="3.9" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#additional-tasks-for-those-with-programming-experience"><i class="fa fa-check"></i><b>3.9</b> Additional tasks for those with programming experience</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#extended-example-one-monte-carlo-simulation"><i class="fa fa-check"></i><b>3.9.1</b> Extended example one: Monte Carlo simulation</a></li>
<li class="chapter" data-level="3.9.2" data-path="programmingpractical-1.html"><a href="programmingpractical-1.html#extended-example-two-the-logistic-map"><i class="fa fa-check"></i><b>3.9.2</b> Extended example two: the logistic map</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html"><i class="fa fa-check"></i><b>4</b> Programming—Practical 2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#random-variables"><i class="fa fa-check"></i><b>4.1</b> Random variables</a></li>
<li class="chapter" data-level="4.2" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#probability-distributions"><i class="fa fa-check"></i><b>4.2</b> Probability distributions</a></li>
<li class="chapter" data-level="4.3" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#using-probability-distributions-in-rtypes"><i class="fa fa-check"></i><b>4.3</b> Using probability distributions in R—types</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#ddist"><i class="fa fa-check"></i><b>4.3.1</b> <code>ddist()</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#pdist"><i class="fa fa-check"></i><b>4.3.2</b> <code>pdist()</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#rdist"><i class="fa fa-check"></i><b>4.3.3</b> <code>rdist()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#exampleusing-probabilities-for-simulation"><i class="fa fa-check"></i><b>4.4</b> Example—using probabilities for simulation</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#binomial-distribution"><i class="fa fa-check"></i><b>4.4.1</b> Binomial distribution</a></li>
<li class="chapter" data-level="4.4.2" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#uniform-distribution"><i class="fa fa-check"></i><b>4.4.2</b> Uniform distribution</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#examplemultiple-choices"><i class="fa fa-check"></i><b>4.5</b> Example—multiple choices</a></li>
<li class="chapter" data-level="4.6" data-path="programmingpractical-2.html"><a href="programmingpractical-2.html#exampleusing-r-to-model-a-death-process-stochastically"><i class="fa fa-check"></i><b>4.6</b> Example—using R to model a death process stochastically</a></li>
</ul></li>
<li class="part"><span><b>III Dynamic models</b></span></li>
<li class="chapter" data-level="5" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html"><i class="fa fa-check"></i><b>5</b> Dynamic models—Practical</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#a-bit-of-theory"><i class="fa fa-check"></i><b>5.1</b> A bit of theory</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#rationale"><i class="fa fa-check"></i><b>5.1.1</b> Rationale:</a></li>
<li class="chapter" data-level="5.1.2" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#a-few-notes-on-eulers-method"><i class="fa fa-check"></i><b>5.1.2</b> A few notes on Euler’s method</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#the-return-of-the-logistic-model"><i class="fa fa-check"></i><b>5.2</b> The return of the logistic model</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#load-the-desolve-package"><i class="fa fa-check"></i><b>5.2.1</b> Load the <code>deSolve</code> package</a></li>
<li class="chapter" data-level="5.2.2" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#define-the-model"><i class="fa fa-check"></i><b>5.2.2</b> Define the model</a></li>
<li class="chapter" data-level="5.2.3" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#namedpars"><i class="fa fa-check"></i><b>5.2.3</b> Version with named parameters</a></li>
<li class="chapter" data-level="5.2.4" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#plot-the-dynamics"><i class="fa fa-check"></i><b>5.2.4</b> Plot the dynamics</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#the-revenge-of-the-amoeba"><i class="fa fa-check"></i><b>5.3</b> The revenge of the amoeba</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#code-the-model"><i class="fa fa-check"></i><b>5.3.1</b> Code the model</a></li>
<li class="chapter" data-level="5.3.2" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#plot-some-graphs"><i class="fa fa-check"></i><b>5.3.2</b> Plot some graphs</a></li>
<li class="chapter" data-level="5.3.3" data-path="dynamic-modelspractical.html"><a href="dynamic-modelspractical.html#discussion-and-further-investigations"><i class="fa fa-check"></i><b>5.3.3</b> Discussion and further investigations</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Epidemic models</b></span></li>
<li class="chapter" data-level="6" data-path="epi1.html"><a href="epi1.html"><i class="fa fa-check"></i><b>6</b> Epidemic models—Practical 1</a>
<ul>
<li class="chapter" data-level="6.1" data-path="epi1.html"><a href="epi1.html#the-basic-sir-model"><i class="fa fa-check"></i><b>6.1</b> The basic <span class="math inline">\(SIR\)</span> model</a></li>
<li class="chapter" data-level="6.2" data-path="epi1.html"><a href="epi1.html#coding-the-model"><i class="fa fa-check"></i><b>6.2</b> Coding the model</a></li>
<li class="chapter" data-level="6.3" data-path="epi1.html"><a href="epi1.html#some-properties-of-the-model"><i class="fa fa-check"></i><b>6.3</b> Some properties of the model</a></li>
<li class="chapter" data-level="6.4" data-path="epi1.html"><a href="epi1.html#calculating-the-infectious-period"><i class="fa fa-check"></i><b>6.4</b> Calculating the infectious period</a></li>
<li class="chapter" data-level="6.5" data-path="epi1.html"><a href="epi1.html#optional-sectionextending-sir-to-other-compartments"><i class="fa fa-check"></i><b>6.5</b> Optional section—extending <span class="math inline">\(SIR\)</span> to other compartments</a></li>
<li class="chapter" data-level="6.6" data-path="epi1.html"><a href="epi1.html#appepi"><i class="fa fa-check"></i><b>6.6</b> Appendix—Epidemic peak and final epidemic size</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="epi2.html"><a href="epi2.html"><i class="fa fa-check"></i><b>7</b> Epidemic models—Practical 2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="epi2.html"><a href="epi2.html#outline"><i class="fa fa-check"></i><b>7.1</b> Outline</a></li>
<li class="chapter" data-level="7.2" data-path="epi2.html"><a href="epi2.html#vaccination-at-birth"><i class="fa fa-check"></i><b>7.2</b> Vaccination at birth</a></li>
<li class="chapter" data-level="7.3" data-path="epi2.html"><a href="epi2.html#targeted-vaccination"><i class="fa fa-check"></i><b>7.3</b> Targeted Vaccination</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="epi3.html"><a href="epi3.html"><i class="fa fa-check"></i><b>8</b> Epidemic models—Practical 3</a>
<ul>
<li class="chapter" data-level="8.1" data-path="epi3.html"><a href="epi3.html#stochastic-models"><i class="fa fa-check"></i><b>8.1</b> Stochastic models</a></li>
<li class="chapter" data-level="8.2" data-path="epi3.html"><a href="epi3.html#coding-a-simple-si-model"><i class="fa fa-check"></i><b>8.2</b> Coding a simple <span class="math inline">\(SI\)</span> model</a></li>
<li class="chapter" data-level="8.3" data-path="epi3.html"><a href="epi3.html#dissecting-the-stochastic-si-code"><i class="fa fa-check"></i><b>8.3</b> Dissecting the stochastic <span class="math inline">\(SI\)</span> code</a></li>
<li class="chapter" data-level="8.4" data-path="epi3.html"><a href="epi3.html#performing-multiple-simulations"><i class="fa fa-check"></i><b>8.4</b> Performing multiple simulations</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="epi3.html"><a href="epi3.html#adding-the-deterministic-solution-curve"><i class="fa fa-check"></i><b>8.4.1</b> Adding the deterministic solution curve</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="epi3.html"><a href="epi3.html#exploring-the-effects-of-stochasticity"><i class="fa fa-check"></i><b>8.5</b> Exploring the effects of stochasticity</a></li>
<li class="chapter" data-level="8.6" data-path="epi3.html"><a href="epi3.html#the-delay-time"><i class="fa fa-check"></i><b>8.6</b> The delay time</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="epi3.html"><a href="epi3.html#the-deterministic-half-time"><i class="fa fa-check"></i><b>8.6.1</b> The deterministic half-time</a></li>
<li class="chapter" data-level="8.6.2" data-path="epi3.html"><a href="epi3.html#the-stochastic-half-time"><i class="fa fa-check"></i><b>8.6.2</b> The stochastic half-time</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="epi3.html"><a href="epi3.html#coding-a-simple-sir-model"><i class="fa fa-check"></i><b>8.7</b> Coding a simple <span class="math inline">\(SIR\)</span> model</a></li>
<li class="chapter" data-level="8.8" data-path="epi3.html"><a href="epi3.html#sis-extension-adding-recovery-from-infection"><i class="fa fa-check"></i><b>8.8</b> <span class="math inline">\(SIS\)</span> Extension: Adding Recovery from Infection</a></li>
<li class="chapter" data-level="8.9" data-path="epi3.html"><a href="epi3.html#sis-extension-adding-host-demography"><i class="fa fa-check"></i><b>8.9</b> <span class="math inline">\(SIS\)</span> Extension: Adding host demography</a></li>
<li class="chapter" data-level="8.10" data-path="epi3.html"><a href="epi3.html#sir-extension-the-final-epidemic-size"><i class="fa fa-check"></i><b>8.10</b> <span class="math inline">\(SIR\)</span> Extension: The final epidemic size</a></li>
<li class="chapter" data-level="8.11" data-path="epi3.html"><a href="epi3.html#sir-extension-stochastic-extinction"><i class="fa fa-check"></i><b>8.11</b> <span class="math inline">\(SIR\)</span> Extension: Stochastic extinction</a></li>
</ul></li>
<li class="part"><span><b>V Statistical modelling</b></span></li>
<li class="chapter" data-level="9" data-path="estimating-r_0-using-catalytic-models.html"><a href="estimating-r_0-using-catalytic-models.html"><i class="fa fa-check"></i><b>9</b> Estimating <span class="math inline">\(R_0\)</span> using catalytic models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="estimating-r_0-using-catalytic-models.html"><a href="estimating-r_0-using-catalytic-models.html#foi"><i class="fa fa-check"></i><b>9.1</b> Estimating the force-of-infection and <span class="math inline">\(R_0\)</span> of rubella</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="estimating-r_0-using-catalytic-models.html"><a href="estimating-r_0-using-catalytic-models.html#bayesian-estimation"><i class="fa fa-check"></i><b>9.1.1</b> Bayesian estimation</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="estimating-r_0-using-catalytic-models.html"><a href="estimating-r_0-using-catalytic-models.html#ngm"><i class="fa fa-check"></i><b>9.2</b> Next-generation matrix approaches</a></li>
<li class="chapter" data-level="9.3" data-path="estimating-r_0-using-catalytic-models.html"><a href="estimating-r_0-using-catalytic-models.html#estimating-the-next-generation-matrix-from-rubella-serology"><i class="fa fa-check"></i><b>9.3</b> Estimating the next generation matrix from rubella serology</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="particle-mcmc.html"><a href="particle-mcmc.html"><i class="fa fa-check"></i><b>10</b> Particle MCMC</a>
<ul>
<li class="chapter" data-level="10.1" data-path="particle-mcmc.html"><a href="particle-mcmc.html#case-study"><i class="fa fa-check"></i><b>10.1</b> Case Study</a></li>
<li class="chapter" data-level="10.2" data-path="particle-mcmc.html"><a href="particle-mcmc.html#arguments-for-pmcmc-function"><i class="fa fa-check"></i><b>10.2</b> Arguments for <code>PMCMC()</code> function</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="particle-mcmc.html"><a href="particle-mcmc.html#data"><i class="fa fa-check"></i><b>10.2.1</b> Data</a></li>
<li class="chapter" data-level="10.2.2" data-path="particle-mcmc.html"><a href="particle-mcmc.html#obsprocess"><i class="fa fa-check"></i><b>10.2.2</b> Observation process</a></li>
<li class="chapter" data-level="10.2.3" data-path="particle-mcmc.html"><a href="particle-mcmc.html#sec:model"><i class="fa fa-check"></i><b>10.2.3</b> Setting up the model</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="particle-mcmc.html"><a href="particle-mcmc.html#running-the-pmcmc-algorithm"><i class="fa fa-check"></i><b>10.3</b> Running the PMCMC algorithm</a></li>
<li class="chapter" data-level="10.4" data-path="particle-mcmc.html"><a href="particle-mcmc.html#optimising-the-number-of-particles"><i class="fa fa-check"></i><b>10.4</b> Optimising the number of particles</a></li>
<li class="chapter" data-level="10.5" data-path="particle-mcmc.html"><a href="particle-mcmc.html#visualising-and-summarising-the-posterior-distributions"><i class="fa fa-check"></i><b>10.5</b> Visualising and summarising the posterior distributions</a></li>
<li class="chapter" data-level="10.6" data-path="particle-mcmc.html"><a href="particle-mcmc.html#predictive-posterior-distributions"><i class="fa fa-check"></i><b>10.6</b> Predictive posterior distributions</a></li>
</ul></li>
<li class="part"><span><b>VI Additional Materials</b></span></li>
<li class="chapter" data-level="11" data-path="estimating-r_0.html"><a href="estimating-r_0.html"><i class="fa fa-check"></i><b>11</b> Estimating <span class="math inline">\(R_{0}\)</span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="estimating-r_0.html"><a href="estimating-r_0.html#introduction-models-and-data-sets"><i class="fa fa-check"></i><b>11.1</b> Introduction: models and data sets</a></li>
<li class="chapter" data-level="11.2" data-path="estimating-r_0.html"><a href="estimating-r_0.html#final-size-method"><i class="fa fa-check"></i><b>11.2</b> Final size method</a></li>
<li class="chapter" data-level="11.3" data-path="estimating-r_0.html"><a href="estimating-r_0.html#regression-method"><i class="fa fa-check"></i><b>11.3</b> Regression method</a></li>
<li class="chapter" data-level="11.4" data-path="estimating-r_0.html"><a href="estimating-r_0.html#recon-earlyr-method"><i class="fa fa-check"></i><b>11.4</b> RECON <code>earlyR</code> method</a></li>
<li class="chapter" data-level="11.5" data-path="estimating-r_0.html"><a href="estimating-r_0.html#appendix"><i class="fa fa-check"></i><b>11.5</b> Appendix</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="seasonality-and-measles-epidemics.html"><a href="seasonality-and-measles-epidemics.html"><i class="fa fa-check"></i><b>12</b> Seasonality and Measles Epidemics</a>
<ul>
<li class="chapter" data-level="12.1" data-path="seasonality-and-measles-epidemics.html"><a href="seasonality-and-measles-epidemics.html#measles-data-and-challenge"><i class="fa fa-check"></i><b>12.1</b> Measles data and challenge</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="outbreak-of-influenza-in-a-boarding-school.html"><a href="outbreak-of-influenza-in-a-boarding-school.html"><i class="fa fa-check"></i><b>13</b> Outbreak of influenza in a boarding school</a>
<ul>
<li class="chapter" data-level="13.1" data-path="outbreak-of-influenza-in-a-boarding-school.html"><a href="outbreak-of-influenza-in-a-boarding-school.html#data-summary-and-challenge"><i class="fa fa-check"></i><b>13.1</b> Data summary and challenge</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Inference in infectious disease systems practicals</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="gettingstarted" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> Getting Started in R<a href="gettingstarted.html#gettingstarted" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="tj-mckinley-t.mckinleyexeter.ac.uk" class="section level2 unlisted unnumbered hasAnchor">
<h2>TJ McKinley (<a href="mailto:t.mckinley@exeter.ac.uk">t.mckinley@exeter.ac.uk</a>)<a href="gettingstarted.html#tj-mckinley-t.mckinleyexeter.ac.uk" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a id="introinfo"></a></p>
<p>R—available at <a href="https://cran.r-project.org/">https://cran.r-project.org/</a>—is a comprehensive statistical programming language. It can be thought of as an open-source, freely available implementation of the <a href="https://en.wikipedia.org/wiki/S_(programming_language)">S</a> language. R is an <strong>interpreted language</strong>, and so can be used interactively, without having to compile the code into an executable file.</p>
<p>Although R is a functional programming language in its own right, its popularity is in large part due to its fantastic capabilities as a statistical package. However, R is much more than that. R has amazing graphical capabilities; can integrate with other languages, such as C and Python; can use scripts and be run in batch mode; and can even be used to produce <a href="https://rmarkdown.rstudio.com/"><strong>reproducible</strong> documents</a>, presentations and <a href="https://www.rstudio.com/products/shiny/">interactive webpages</a>. Even better than that, R is completely <strong>free</strong> and <strong>open-source</strong>!</p>
<p>To top it off, R is also <strong>multi-platform</strong>, and so can be used on Windows, Mac and Linux operating systems. R is supported by a wide user base, and is extended by a large number of additional packages, and even provides the capabilities to create your own. Whilst R provides its own development environment, we will use a fantastic IDE<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> provided by RStudio. This is free to download, provides some neat features, and crucially, operates the same way on all operating systems!</p>
<p>All of the instructions in these practicals will assume that you are using RStudio.</p>
</div>
<div id="installing-r-and-rstudio" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Installing R and RStudio<a href="gettingstarted.html#installing-r-and-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you want to download R for your own computer, first go to <a href="http://cran.r-project.org">http://cran.r-project.org</a>, and follow the instructions in the box called ‘Download and Install R’. <strong>You only need to install the <code>base</code> package</strong>. During installation, selecting the default options should be sufficient.</p>
<p>Once you have installed R, you can install the <strong>free desktop</strong> version of RStudio from <a href="https://www.rstudio.com/products/rstudio/download/">https://www.rstudio.com/products/rstudio/download/</a>. Again, selecting the default options during installation should be sufficient.</p>
<div class="panel panel-default">
<div class="panel-heading panel-heading2">
Important
</div>
<div class="panel-body">
You will also have to install some additional R packages in order to complete the materials in this workshop. Details on how to install packages can be found at the end of this Chapter <a href="gettingstarted.html#packages">here</a>. I would suggest you read through all these notes before installing the packages, but this box is here to remind you to do this. A full list of which packages to install can also be found <a href="gettingstarted.html#packagesneeded">here</a>.
</div>
</div>
</div>
<div id="what-is-r" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> What is R?<a href="gettingstarted.html#what-is-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is an <strong>object-orientated</strong> programming language. This means that you create objects, and give them names. You can then <strong>do things</strong> to those objects: you can perform calculations, statistical tests, make tables or draw plots. Objects can be single numbers, characters, vectors of numbers, matrices, multi-dimensional arrays, lists containing different objects and so on.</p>
</div>
<div id="rstudio" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> RStudio<a href="gettingstarted.html#rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rstudio"></span>
<img src="Materials/Introduction/images/rstudio.png" alt="RStudio window" width="60%" />
<p class="caption">
Figure 1.1: RStudio window
</p>
</div>
<p>After loading, the RStudio window should look something like Figure <a href="gettingstarted.html#fig:rstudio">1.1</a>. It consists of:</p>
<ul>
<li><strong>Script pane</strong> (top-left): this is essentially RStudio’s built-in text editor. It has all the usual features one would expect: syntax highlighting, automatic indentation, bracket matching, line highlighting and numbering and so on. You can open any type of text file in here, not just R scripts. (You might have to go to <em>File &gt; New File &gt; R Script</em> to open a new R script if you don’t have one already open.)</li>
<li><strong>Console pane</strong> (bottom-left): This is where you run R commands and view outputs.</li>
<li><strong>Workspace/history pane</strong> (top-right): this shows a list of all of the objects and variables that you create during a session or a history of all of the commands that have been sent to the command window during the session.</li>
<li><strong>Plot/help pane</strong> (bottom-right): this shows any plots that you create or any help files that you access.</li>
</ul>
<p>You can alter the size of the various panes by clicking and dragging the grey bar in between each window to suit your needs. You can also change their arrangement by going to <em>Tools &gt; Global Options</em>, and then selecting the <em>Pane Layout</em> option.</p>
</div>
<div id="setup" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Setting up an R session<a href="gettingstarted.html#setup" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It is worthwhile getting into a workflow when using R. General guidelines I would suggest are:</p>
<ul>
<li>Use a different folder for each new project / assignment. This helps to keep all data / script / output files in one self-contained place.</li>
<li>Set the <strong>Working Directory</strong> for R at the outset of each session to be the folder you’ve specified for the particular assignment you’re working on. This can be done in RStudio by going to <em>Session &gt; Set Working Directory &gt; Choose Directory</em>. This sets the default search path to this folder.</li>
<li>Always use <a href="gettingstarted.html#script"><strong>script files</strong></a> to keep a record of your work, so that it can be reproduced at a later date.</li>
</ul>
<p>We will explore the <strong>console</strong> and <strong>script</strong> panes below, dealing with the other panes as and when they arise.</p>
</div>
<div id="console-pane" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Console Pane<a href="gettingstarted.html#console-pane" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The console pane provides a direct interface with R, and looks similar to command line R (in Linux and Macs), and the console pane in R for Windows. You enter commands via the standard prompt <code>&gt;</code>. For example, type the following into the console pane:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="gettingstarted.html#cb3-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<p>You can see here that R has returned a value of 25, illustrating one of R’s key features: that it can be used as an overgrown calculator, simply by entering commands into the prompt. R supports lots of basic mathematical operators, such as those found in Table <a href="gettingstarted.html#tab:mathop">1.1</a>.</p>
<table>
<caption><span id="tab:mathop">Table 1.1: </span> Basic mathematical operators</caption>
<thead>
<tr class="header">
<th align="center">Symbol</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><code>+</code></td>
<td align="left">addition</td>
</tr>
<tr class="even">
<td align="center"><code>-</code></td>
<td align="left">subtraction</td>
</tr>
<tr class="odd">
<td align="center"><code>*</code></td>
<td align="left">multiplication</td>
</tr>
<tr class="even">
<td align="center"><code>/</code></td>
<td align="left">division</td>
</tr>
<tr class="odd">
<td align="center"><code>^</code></td>
<td align="left">to the power</td>
</tr>
<tr class="even">
<td align="center"><code>%%</code></td>
<td align="left">the remainder of an integer division (modulo)</td>
</tr>
<tr class="odd">
<td align="center"><code>%/%</code></td>
<td align="left">integer division</td>
</tr>
</tbody>
</table>
<p>Meanwhile, Table <a href="gettingstarted.html#tab:mathfunc">1.2</a> has some other ones you might need. (<strong>Note</strong>: these are functions: just replace e.g. <code>x</code> with a number.)</p>
<table>
<caption><span id="tab:mathfunc">Table 1.2: </span> Other useful mathematical functions</caption>
<colgroup>
<col width="27%" />
<col width="72%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Function</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><code>log(x)</code></td>
<td align="left"><span class="math inline">\(\log_e(x)\)</span> (or <span class="math inline">\(\ln(x)\)</span>)</td>
</tr>
<tr class="even">
<td align="center"><code>exp(x)</code></td>
<td align="left"><span class="math inline">\(e^x\)</span></td>
</tr>
<tr class="odd">
<td align="center"><code>log(x, n)</code></td>
<td align="left"><span class="math inline">\(\log_n(x)\)</span></td>
</tr>
<tr class="even">
<td align="center"><code>log10(x)</code></td>
<td align="left"><span class="math inline">\(\log_{10}(x)\)</span></td>
</tr>
<tr class="odd">
<td align="center"><code>sqrt(x)</code></td>
<td align="left"><span class="math inline">\(\sqrt{x}\)</span></td>
</tr>
<tr class="even">
<td align="center"><code>factorial(x)</code></td>
<td align="left"><span class="math inline">\(x!\)</span></td>
</tr>
<tr class="odd">
<td align="center"><code>choose(n, x)</code></td>
<td align="left">binomial coefficients: <span class="math inline">\(\frac{n!}{x!(n - x)!}\)</span></td>
</tr>
<tr class="even">
<td align="center"><code>gamma(x)</code></td>
<td align="left"><span class="math inline">\(\Gamma\left(x\right)\)</span> for continuous <span class="math inline">\(x\)</span> or <span class="math inline">\((x-1)!\)</span> for integer <span class="math inline">\(x\)</span></td>
</tr>
<tr class="odd">
<td align="center"><code>lgamma(x)</code></td>
<td align="left">natural log of <span class="math inline">\(\Gamma\left(x\right)\)</span></td>
</tr>
<tr class="even">
<td align="center"><code>floor(x)</code></td>
<td align="left">greatest integer <span class="math inline">\(&lt; x\)</span></td>
</tr>
<tr class="odd">
<td align="center"><code>ceiling(x)</code></td>
<td align="left">smallest integer <span class="math inline">\(&gt; x\)</span></td>
</tr>
<tr class="even">
<td align="center"><code>trunc(x)</code></td>
<td align="left">closest integer to <span class="math inline">\(x\)</span> between <span class="math inline">\(x\)</span> and 0 e.g. <code>trunc(1.5) = 1</code>, <code>trunc(-1.5) = -1</code> <code>trunc</code> is like <code>floor</code> for positive values and like <code>ceiling</code> for negative values</td>
</tr>
<tr class="odd">
<td align="center"><code>round(x, digits = 0)</code></td>
<td align="left">round the value of <span class="math inline">\(x\)</span> to an integer</td>
</tr>
<tr class="even">
<td align="center"><code>signif(x, digits = 6)</code></td>
<td align="left">round <span class="math inline">\(x\)</span> to 6 significant figures</td>
</tr>
<tr class="odd">
<td align="center"><code>cos(x)</code></td>
<td align="left">cosine of <span class="math inline">\(x\)</span> in radians</td>
</tr>
<tr class="even">
<td align="center"><code>sin(x)</code></td>
<td align="left">sine of <span class="math inline">\(x\)</span> in radians</td>
</tr>
<tr class="odd">
<td align="center"><code>tan(x)</code></td>
<td align="left">tangent of <span class="math inline">\(x\)</span> in radians</td>
</tr>
<tr class="even">
<td align="center"><code>acos(x)</code>, <code>asin(x)</code>, <code>atan(x)</code></td>
<td align="left">inverse trigonometric transformations of real or complex numbers</td>
</tr>
<tr class="odd">
<td align="center"><code>acosh(x)</code>, <code>asinh(x)</code>, <code>atanh(x)</code></td>
<td align="left">inverse hyperbolic trigonometric transformations on real or complex numbers</td>
</tr>
<tr class="even">
<td align="center"><code>abs(x)</code></td>
<td align="left">the absolute value of <span class="math inline">\(x\)</span>, ignoring the minus sign if there is one</td>
</tr>
</tbody>
</table>
<p>R retains a <strong>history</strong> of all the commands you have used in a particular session. You can scroll back through these using the up (↑) and down (↓) arrows whilst in the console pane. (You can even save the history—though we will discuss a <em>much</em> better option in the next section.)</p>
<p>One important thing to note is that unlike a language like C, R does not require the semicolon (<code>;</code>) symbol to denote the end of each command. A carriage return is sufficient. A semicolon can be used to allow multiple commands to be written on the same line if required. For example,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="gettingstarted.html#cb5-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">3</span>; <span class="fu">sin</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 25
## [1] -0.5440211</code></pre>
<p>is equivalent to</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="gettingstarted.html#cb7-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">3</span></span>
<span id="cb7-2"><a href="gettingstarted.html#cb7-2" tabindex="-1"></a><span class="fu">sin</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 25
## [1] -0.5440211</code></pre>
<p>One thing to note is that if a command is incomplete, then R will change the <code>&gt;</code> prompt for a <code>+</code> prompt. For example, typing <code>10 + 5 *</code> into the console pane will result in the <code>+</code> prompt appearing, telling you that the previous line is incomplete i.e.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="gettingstarted.html#cb9-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">5</span> <span class="sc">*</span></span>
<span id="cb9-2"><a href="gettingstarted.html#cb9-2" tabindex="-1"></a><span class="sc">+</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<p>You must either complete the line or hit the <code>Esc</code> key to cancel the command.</p>
</div>
<div id="script" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Script pane and R scripts<a href="gettingstarted.html#script" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The console window is the engine room of R, and one can interact directly with it. One key advantage to R is that it <em>records</em> all of the commands that you enter into the console (known as the command <em>history</em>). It is possible to save the command history, or run back through it using the arrow keys. However, a much better approach is to use the <strong>script pane</strong> to write an R script that contains all the commands necessary for a particular project. In fact, one might argue that this is probably one of the most important features of R relative to a point-and-click statistical package such as SPSS.</p>
<p>Put simply, <strong><em>R scripts are just text files that contain commands to run in R</em></strong>. They are <strong>vitally important</strong> for the following reasons:</p>
<ul>
<li>They keep a systematic record of your analysis, which enables you to <strong>reproduce</strong> your work at a later date. Scripts can be passed to collaborators or other users to enable them to <strong>replicate</strong> your work.</li>
<li>This record means that you do not have to rely on your memory to figure out <strong>what</strong> you did.</li>
<li>R scripts allow you to <strong>comment</strong> your code, which means that you also won’t forget <strong>why</strong> you did it.</li>
<li>In more advanced settings, R scripts can also be run in <strong>batch</strong> mode, which means that you can run scripts remotely on a server somewhere without having to be sat in front of a computer manually entering commands.</li>
<li>Although programs like SPSS allow <strong>outputs</strong> to be saved, R scripts contain <strong>inputs</strong>, which are much more useful, since it is easier to generate the outputs from the inputs than it is to reconstruct the likely inputs from the outputs.</li>
<li>In fact, R scripts can be combined with a markup language called ‘markdown’ to generate fully reproducible documents, containing both inputs and outputs. It does this using the fantastic <a href="https://yihui.name/knitr/"><code>knitr</code></a> and <a href="https://rmarkdown.rstudio.com/"><code>rmarkdown</code></a> packages. (In fact these notes were written using <code>rmarkdown</code> and a package called <a href="https://bookdown.org/yihui/bookdown/"><code>bookdown</code></a>.)</li>
</ul>
<p>Some comments:</p>
<ul>
<li>RStudio comes with its own text editor, but if you are not using RStudio, then there are plenty of others available.</li>
<li>R is case-sensitive. If something doesn’t work, it’s often because you have failed to capitalise, or capitalised where you shouldn’t have. <strong>NEVER, EVER, EVER</strong> use Word to edit your R scripts! Word often tries to correct your grammar and is an absolute nightmare for writing code. If you don’t like RStudio’s editor, then lots of lightweight and free text editors exist that you can use. By all means use Word for writing up the work<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, but <strong><em>please</em></strong>, <strong><em>NEVER</em></strong> use it for writing code!</li>
</ul>
<p>In RStudio, you can open a new script in R using: <em>File &gt; New File &gt; R Script</em>.</p>
<p>Type the following into the <strong>script file</strong>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="gettingstarted.html#cb11-1" tabindex="-1"></a><span class="do">## calculate the hypotenuse from a right-angled triangle</span></span>
<span id="cb11-2"><a href="gettingstarted.html#cb11-2" tabindex="-1"></a><span class="do">## with the two other sides equal to 3 and 4</span></span>
<span id="cb11-3"><a href="gettingstarted.html#cb11-3" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">3</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">4</span><span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<p>Notice that nothing has happened. All you’ve done is write some commands into a text window. However, if you highlight these lines and then hit the <code>Run</code> button in the top right-hand corner of the script pane (or, in Windows certainly, press <code>Ctrl-Enter</code>), then RStudio runs these lines in the console pane. (Alternatively, you can manually copy-and-paste these lines into the console window.) This should return:</p>
<pre><code>## [1] 5</code></pre>
<div class="panel panel-default">
<div class="panel-heading panel-heading2">
Note
</div>
<div class="panel-body">
<p>Notice that the <code>#</code> symbol in the input code denotes a <strong>comment</strong>, such that any text after the <code>#</code> is ignored (up to the end of the current line). I have used a double hash here <code>##</code>, though this is simply because I’ve written this practical using <a href="http://rmarkdown.rstudio.com/">R Markdown</a> and it seems to typeset better. This is not absolutely necessary though, since anything after the first <code>#</code> is ignored.</p>
Comments are <strong><em>vital</em></strong> in code to ensure <strong>reproducibility</strong> and <strong>readability</strong>. You should ensure that all code is commented, so that both you and anyone else who wants to use your code is able to decipher it. Even if no one else is going to look at your code, it is still worthwhile to comment it. What seems obvious to you as you write a piece of code, often becomes confusing when you return to it in six months time and can’t remember what you did or why you did it…
</div>
</div>
<p>It is conventional to save R script files using the suffix ‘.R’, though remember that they are simply <strong>text files</strong>, and can be viewed in any text editor. Make sure you have set up a folder to store the code for this practical in, and have changed the <strong>working directory</strong> to this folder (see the <a href="gettingstarted.html#setup">setup</a> section), and then save this script file as something like <code>IntroToR.R</code>.</p>
<div class="panel panel-default">
<div class="panel-heading panel-heading2">
Important
</div>
<div class="panel-body">
Make sure you save your script file regularly to prevent data loss!
</div>
</div>
<div id="legible" class="section level3 hasAnchor" number="1.6.1">
<h3><span class="header-section-number">1.6.1</span> Notes on legibility<a href="gettingstarted.html#legible" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>NOTE</strong>: that I use spaces within the code to make it clearer. R does not require this, but again I think it is good practice to think about how to make your code legible. Different coders have different preferences, but personally I prefer <code>plot(Worm.density ~ Vegetation, data = worms)</code> over <code>plot(Worm.density~Vegetation,data=worms)</code>. As <a href="http://style.tidyverse.org/">Hadley Wickham</a> says: “Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread.”</p>
<p>Note that different coders prefer different styles—there is no universal agreement, and you will notice that different lecturers on this course have slightly different styles. However, it’s worth getting into the habit of writing your code neatly and with legibility in mind. A guide that is similar to my own is the <code>tidyverse</code> guide <a href="http://style.tidyverse.org/">here</a>. (Note that unlike e.g. Python, R does not require specific indentation. Instead it uses curly brackets to group lines of code together. However, indentation is still key for legibility.)</p>
<p>I tend to use script files to keep a record of all commands that need to be reproduced, but I often enter commands directly into the console window when I’m testing or visualising things. Try to keep redundant code out of your script files and try to make sure the code is legible and commented.</p>
</div>
</div>
<div id="packages" class="section level2 hasAnchor" number="1.7">
<h2><span class="header-section-number">1.7</span> R packages<a href="gettingstarted.html#packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R has hundreds of add-on <strong>packages</strong> that provide functionality for a wide range of techniques. These repositories are growing all of the time; some packages become redundant and are removed, others are updated, some are superceded or incorporated into others, and completely new ones appear regularly. A key part of becoming proficient with R is learning how to install and update packages.</p>
<div class="panel panel-default">
<div class="panel-heading panel-heading2">
Note
</div>
<div class="panel-body">
R packages can be thought of in a similar way to Matlab toolboxes or Python libraries.
</div>
</div>
<p>The principal R package repository can be found on <a href="https://cran.r-project.org/">CRAN</a> (the Comprehensive R Archive Network). Another popular repository, predominantly aimed at bioinformatics packages, is <a href="https://www.bioconductor.org/">Bioconductor</a>, though installation of packages through Bioconductor is more difficult than through CRAN, so we will focus on the latter only here.</p>
<p>Some packages are included as part of R’s base package. To load a package, you can use the <code>library()</code> or <code>require()</code> functions, passing the name of the required package. For example, to load the <code>tidyr</code> package, type:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="gettingstarted.html#cb13-1" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<p>If this doesn’t return any error, then the package is loaded and you are now able to use any function in <code>tidyr</code> in your R code. R packages must contain help files and documentation in order to be included on CRAN. For example, the documentation for the <code>tidyr</code> package can be found <a href="https://cran.r-project.org/web/packages/tidyr/">here</a>, through the <em>Reference Manual</em> link, plus some vignettes through the <em>Vignettes</em> link.</p>
<div id="installing-packages-from-cran" class="section level3 hasAnchor" number="1.7.1">
<h3><span class="header-section-number">1.7.1</span> Installing packages from CRAN<a href="gettingstarted.html#installing-packages-from-cran" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If the package you want is not installed, then you will need to install it. To install a package that is hosted on CRAN, you can use the <code>install.packages()</code> function. For example, to install <code>tidyr</code> you can type:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="gettingstarted.html#cb14-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyr&quot;</span>)</span></code></pre></div>
<p>This will ask that you select a mirror repository—choosing one close-to-home is a good idea. It might also ask you to set up a local R library in your user directory. This is a good idea, so I would just accept the default if it asks.</p>
<p>If it installs without any errors, then you can load the library using <code>library(tidyr)</code> as above.</p>
<div class="panel panel-default">
<div class="panel-heading panel-heading2">
Note
</div>
<div class="panel-body">
You only have to install a package <strong>once</strong> (unless you update R). You have to <strong>load</strong> the library once during each <strong>session</strong>. I prefer to enter all my calls to <code>library()</code> at the top of my script file, so I can quickly see which packages are required for my script to run.
</div>
</div>
</div>
<div id="installing-from-a-local-file" class="section level3 hasAnchor" number="1.7.2">
<h3><span class="header-section-number">1.7.2</span> Installing from a local file<a href="gettingstarted.html#installing-from-a-local-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can also install a package from a local ZIP file if required (though this is required much less often). For example, from the <a href="https://cran.r-project.org/">CRAN</a> website, click on the <em>Packages</em> link, find the correct package and simply download a suitable Windows / Mac binary file as appropriate, or the ‘Package Source’ file (if you are on Linux, or if you have the appropriate compiler tools installed). See Figure <a href="gettingstarted.html#fig:tidyrsource">1.2</a> for an example of where these can be found for the <code>tidyr</code> package.</p>
<p>Once you have downloaded one of these, you can install using:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="gettingstarted.html#cb15-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;PATH/TO/PACKAGENAME&quot;</span>, <span class="at">repos =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p>where <code>PATH/TO/PACKAGENAME</code> is the path to the package source file (be careful to get the path in the correct format—Windows users might have to use <code>\</code> instead of <code>/</code>). The <code>repos = NULL</code> argument tells R to look for the file locally, and not online.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidyrsource"></span>
<img src="Materials/Introduction/images/tidyr.png" alt="Location of source / binary files for `tidyr`" width="60%" />
<p class="caption">
Figure 1.2: Location of source / binary files for <code>tidyr</code>
</p>
</div>
</div>
<div id="installing-archived-versions-of-a-package" class="section level3 hasAnchor" number="1.7.3">
<h3><span class="header-section-number">1.7.3</span> Installing archived versions of a package<a href="gettingstarted.html#installing-archived-versions-of-a-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes R packages are not updated as quickly as R itself, and occasionally you might need to install an older version of a package. A really useful package is called <a href="https://cran.r-project.org/web/packages/devtools/index.html"><code>devtools</code></a>. This provides functions to install R packages directly from CRAN archives, which can be found by going to <a href="https://cran.r-project.org/">https://cran.r-project.org/</a>, and clicking on the <em>Packages</em> link followed by the <em>Archived</em> link. This provides a list of older versions of a package, which can be installed using the <code>install_version()</code> function in <code>devtools</code> (as detailed below).</p>
<p>For example, I once had an issue with a package called <a href="https://cran.r-project.org/web/packages/cowplot/"><code>cowplot</code></a>, that didn’t exist for my version of R, and returned the following error message (<strong>don’t run the code now</strong>):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="gettingstarted.html#cb16-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;cowplot&quot;</span>)</span></code></pre></div>
<pre><code>Installing package into ‘/home/tj/R/x86_64-pc-linux-gnu-library/3.2’
(as ‘lib’ is unspecified)
Warning in install.packages :
  package ‘cowplot’ is not available (for R version 3.2.3)</code></pre>
<p>I solved this by finding an older version of the package on CRAN (by clicking on <em>Packages</em> then <em>Archived</em>):</p>
<p><img src="Materials/Introduction/images/cowplot.png" width="60%" style="display: block; margin: auto;" /></p>
<p>I noted the version number, and then used <code>install_version()</code> from the <code>devtools</code> package as follows (<strong>don’t run the code now</strong>):</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="gettingstarted.html#cb18-1" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb18-2"><a href="gettingstarted.html#cb18-2" tabindex="-1"></a><span class="fu">install_version</span>(<span class="st">&quot;cowplot&quot;</span>, <span class="at">version =</span> <span class="st">&quot;0.6.3&quot;</span>, <span class="at">repos =</span> <span class="st">&quot;https://cran.r-project.org/&quot;</span>)</span></code></pre></div>
<p>These can also be installed manually from source as in the previous section.</p>
</div>
<div id="installing-development-packages" class="section level3 hasAnchor" number="1.7.4">
<h3><span class="header-section-number">1.7.4</span> Installing development packages<a href="gettingstarted.html#installing-development-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In order to upload a package to CRAN, the package must pass a series of tests. The versions you find on CRAN are the <strong>stable</strong> versions (i.e. they have passed these tests and work well with the current version of R). However, developers often keep the latest <strong>development</strong> version of their package on an online repository such as <a href="https://github.com/">GitHub</a>. Development packages usually contain the most up-to-date functions, but are likely to contain more bugs—use them at your own risk! In addition, some packages simply aren’t available on CRAN—there is no requirement to add them to this repository.</p>
<p>For example, to install the development version of the <code>gganimate</code> package from GitHub, locate the source code on e.g. GitHub; in this case it can be found at <a href="https://github.com/dgrtwo/gganimate">https://github.com/dgrtwo/gganimate</a>. Then the package can be installed using <code>devtools</code> as follows (<strong>don’t run the code now</strong>):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="gettingstarted.html#cb19-1" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">&quot;dgrtwo/gganimate&quot;</span>)</span></code></pre></div>
<p>Note the syntax <code>DEVELOPER/PACKAGENAME</code>—this can be found from the address of the repository e.g. <a href="https://github.com/dgrtwo/gganimate">https://github.com/dgrtwo/gganimate</a>. For CRAN packages, the source code URL is usually listed on the package page. For example, Figure <a href="gettingstarted.html#fig:tidyrsource">1.2</a> shows that the GitHub page for <code>tidyr</code> is at <a href="https://github.com/tidyverse/tidyr">https://github.com/tidyverse/tidyr</a>.</p>
</div>
<div id="packagesneeded" class="section level3 hasAnchor" number="1.7.5">
<h3><span class="header-section-number">1.7.5</span> Packages to install for this module<a href="gettingstarted.html#packagesneeded" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The packages you need to install for this module are listed below. Some are installed automatically by R, but have been listed here for completeness. (Please let me know if you come across any that aren’t listed here.)</p>
<ul>
<li><code>deSolve</code></li>
<li><code>earlyR</code></li>
<li><code>MCMCpack</code></li>
<li><code>outbreaks</code></li>
<li><code>SimInf</code></li>
<li><code>SimBIID</code></li>
<li><code>utils</code></li>
<li><code>tidyverse</code></li>
<li><code>incidence</code></li>
<li><code>patchwork</code></li>
<li><code>tsiR</code></li>
<li><code>chron</code></li>
</ul>
<p>Many of these packages depend on other packages, but R should install all dependencies automatically. These should all be available via CRAN, and so can be installed using e.g.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="gettingstarted.html#cb20-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;deSolve&quot;</span>)</span></code></pre></div>
<p>If you’re on a Windows computer then you’ll need to do some additional work to use <code>SimInf</code> and <code>SimBIID</code> (macOS and Linux users should be fine).</p>
<ul>
<li>Download Rtools from <a href="https://cran.r-project.org/bin/windows/Rtools/">https://cran.r-project.org/bin/windows/Rtools/</a>
<ul>
<li>Click on the appropriate version of RTools on the left.</li>
<li>For RTools 4.4 (the most up to date version) click on the link <code>Rtools44_installer</code>. It’s in the third paragraph down in the second section.</li>
<li>Once it’s downloaded install it using all of the default settings.</li>
<li>This might take a couple of minutes, but click Finish when it’s done.</li>
</ul></li>
</ul>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Integrated Desktop Environment<a href="gettingstarted.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>although <a href="https://rmarkdown.rstudio.com/"><code>rmarkdown</code></a> provides a powerful alternative<a href="gettingstarted.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="structure-of-this-workshop.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="fundamentals-of-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
